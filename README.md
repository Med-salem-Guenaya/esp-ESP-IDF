Here you will find various programs/firwares codeded with ESP IDF (C)

NB: these were made using an esp32, there might be a need to modify the code to have it work properly with your IoT devices.
